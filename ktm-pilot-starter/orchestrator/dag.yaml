# Simple DAG stub for the one-button run (names matter; fill in as you implement)
dag:
  - name: ingest
    outputs: [site_bundle.json]
  - name: generate
    needs: [ingest]
    outputs: [variants.json, preview.glb]
  - name: filter
    needs: [generate]
    outputs: [shortlist.json]
  - name: analyze
    needs: [filter]
    outputs: [structural_prelim.pdf, energy_proxy.pdf]
  - name: estimate
    needs: [filter]
    outputs: [estimate_class3.csv]
  - name: optimize
    needs: [estimate, analyze]
    outputs: [pareto.json]
  - name: permit
    needs: [analyze]
    outputs: [kathmandu_code_report.pdf, permit_checklist.pdf]
  - name: fabricate
    needs: [filter]
    outputs: [variant_01.ifc, variant_01.glb]
  - name: procure_finance
    needs: [estimate]
    outputs: [rfq.json]
  - name: twin
    needs: [fabricate]
    outputs: [twin_seed.json]
  - name: stamp_gate
    needs: [permit]
    outputs: [stamp_receipt.json]
